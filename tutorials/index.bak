<div class="block-narrow block-secondary app-about-block" id="preview" markdown="1">
<div class="container" markdown="1">
## Getting Started<a name="getting-started"></a>
To if you only want to run the tutorials, you can use Google Colaboratory. You only need a web browser. No other installation is necessary. To install and use brainiak and the tutorials on your own machines, use the questions below to help you decide your install options.

Need help deciding which option to choose? We have a [list](https://drive.google.com/file/d/1Kj_hVotoau5dGfEbpG-yc1ZoX08HCd5c/view?usp=sharing) of pros and cons to help you decide for each option.

#### Where do you wish to install?
<table class="table">
  <thead>
    <tr class="d-flex">
      <th class="col-4">Laptop / Desktop</th>
      <th class="col-4">Server / Cluster</th>
      <th class="col-4">Yet to Decide</th>
    </tr>
  </thead>
</table>

#### What's your operating system?
<table class="table">
  <thead>
    <tr class="d-flex">
      <th class="col-4">Windows</th>
      <th class="col-4">MacOS</th>
      <th class="col-4">Linux</th>
    </tr>
  </thead>
  <tbody>
    <tr class="d-flex">
      <td class="col-4">Docker.</td>
      <td class="col-4">Use Docker, Conda, or Pip. If you are not a regular Pip user, then use Conda.</td>
      <td class="col-4">Use Docker, Conda, or Pip. If you are not a regular Pip user, then use Conda.</td>
    </tr>
  </tbody>
</table>

#### How many users?
<table class="table">
  <thead>
    <tr class="d-flex">
      <th class="col-6">Only 1</th>
      <th class="col-6">Many</th>
    </tr>
  </thead>
  <tbody>
    <tr class="d-flex">
      <td class="col-6">Install on Laptop/Desktop</td>
      <td class="col-6">Install on Server/Cluster</td>
    </tr>
  </tbody>
</table>

#### What jobs do you plan to run?
<table class="table">
  <thead>
    <tr class="d-flex">
      <th class="col-6">For Quick Piloting</th>
      <th class="col-6">For Long Running Jobs</th>
    </tr>
  </thead>
  <tbody>
    <tr class="d-flex">
      <td class="col-6">Install on Laptop. Use Docker. You will need 5GB RAM for the larger datasets.</td>
      <td class="col-6">Install on Server/Cluster. Use Conda or Pip. Avoid using Docker.</td>
    </tr>
  </tbody>
</table>

#### Are you new to clusters or SLURM?
<table class="table">
  <thead>
    <tr class="d-flex">
      <th class="col-6">Yes</th>
      <th class="col-6">No</th>
    </tr>
  </thead>
  <tbody>
    <tr class="d-flex">
      <td class="col-6">Work with your cluster administrator.</td>
      <td class="col-6">Use Conda or Pip and check the SLURM settings for your cluster. Avoid using Docker.</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<div class="block-narrow block-inverse block-secondary app-code-block" id="about" style="line-height: 1.55;">
<div class="container" markdown="1">
## Detailed installation instructions

<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" id="pills-docker-macos-tab" data-toggle="pill" data-target="#pills-docker-macos" role="tab" aria-controls="pills-docker-macos" aria-selected="true">Docker (MacOS)</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="pills-docker-windows-tab" data-toggle="pill" data-target="#pills-docker-windows" role="tab" aria-controls="pills-docker-windows" aria-selected="false">Docker (Windows)</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="pills-conda-macos-tab" data-toggle="pill" data-target="#pills-conda-macos" role="tab" aria-controls="pills-conda-macos" aria-selected="false">Conda (MacOS)</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="pills-server-scotty-tab" data-toggle="pill" data-target="#pills-server-scotty" role="tab" aria-controls="pills-server-scotty" aria-selected="false">Server (scotty)</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="pills-cluster-spock-tab" data-toggle="pill" data-target="#pills-cluster-spock" role="tab" aria-controls="pills-cluster-spock" aria-selected="false">Cluster (spock)</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="pills-google-colab-tab" data-toggle="pill" data-target="#pills-google-colab" role="tab" aria-controls="pills-google-colab" aria-selected="false">Google Colaboratory</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="pills-data-download-tab" data-toggle="pill" data-target="#pills-data-download" role="tab" aria-controls="pills-data-download" aria-selected="false">Data Download</a>
  </li>
</ul>
<div class="tab-content" id="pills-tabContent">
  <div class="tab-pane fade show active" id="pills-docker-macos" role="tabpanel" aria-labelledby="pills-docker-macos-tab" markdown="1">

  <h4>Docker on laptop/desktop (MacOS)</h4>
  - Install [Docker](https://docs.docker.com/docker-for-mac/install/).
  - Resize memory for Docker. click: Docker on Menu Bar -> Preferences -> Advanced

    ![alt](/tutorials/img/docker-advanced-macos.png){:width="480px"}

    The more memory and swap space you can assign, the better. We have tested with 5GB of memory. The default setting of 2GB is too little to load large datasets. Increase the swap space to approximately 4-5GB. If your available space is less than 4GB, set the swap space to whatever you have available.

  - Download data for your tutorial to the Downloads folder
  - Create a folder under Downloads: brainiak_datasets
  - Unzip the data file and move it to this folder brainiak_datasets
  - Shutdown all running Jupyter terminals on your machine to avoid port conflicts
  - Open Terminal
  - Install the BrainIAK Docker by running this command
  - `docker run -it -p 8899:8899 -v ~/Downloads/brainiak_datasets:/root/brainiak_datasets --name tutorials mihaicro/test`
  - Installation Completed üòä

  Note the port that you need to connect to the browser: 8899


  <b>Running Tutorials</b>
  - Open a browser on your machine
  - Go to http://localhost:8899 (it‚Äôs the port after the `-p` above. Ignore any other port info)
  - You will be prompted for a ‚ÄúPassword/Login Token‚Äù. (add screen shot).
  - Copy the token, screen shot here

    ![Login Token](https://raw.githubusercontent.com/NEU480/organization/master/auditors/Princeton_scotty.jpg){:width="800px"}

  </div>
  <div class="tab-pane fade" id="pills-docker-windows" role="tabpanel" aria-labelledby="pills-profile-tab" markdown="1">
  <h4>Docker on laptop (Windows)</h4>
  - Install [Docker](https://docs.docker.com/docker-for-windows/)
  - Resize memory for Docker use. We have tested with 5GB of memory on MacOS. The default setting of 2GB is too little to load large datasets. Increase the swap space to approximately 4-5GB. If your available space is less than 4GB, set the swap space to whatever you have available.
  - Download data for your tutorial.
  - Unzip data and move it to Downloads/brainiak_datasets
  - Share C drive in Docker (instructions [here](https://docs.docker.com/docker-for-windows/#shared-drives))
  - Run Docker after replacing `USERNAME` with your Windows user name:
  - `docker run -it -p 8899:8899 -v C:/Users/USERNAME/downloads/brainiak_datasets:/root/brainiak_datasets --name tutorials mihaicro/test`

  <b>Running Tutorials</b>
  - Open a browser on your machine
  - Go to http://localhost:8899 (it‚Äôs the port after the `-p` above. Ignore any other port info)
  - You will be prompted for a ‚ÄúPassword/Login Token‚Äù. (add screen shot).
  - Copy the token, screen shot here

    ![Login Token](https://raw.githubusercontent.com/NEU480/organization/master/auditors/Princeton_scotty.jpg){:width="800px"}
  </div>
  <div class="tab-pane fade" id="pills-conda-macos" role="tabpanel" aria-labelledby="pills-contact-tab" markdown="1">
  <h4>Conda on laptop (MacOS)</h4>
  - Check if you have conda installed already. Run `conda` in your terminal
  - If you have conda installed, proceed to the next step. Only do this step if you do not have conda installed: Install  [Miniconda with Python 3](https://docs.conda.io/en/latest/miniconda.html)
  - Open Terminal
  - Close this terminal.
  - Open a new terminal.
  - Install brainiak-tutorial conda package:

    `> conda create --name mybrainiak python=3.6`

    `> conda activate mybrainiak`

    `> mv ~/.condarc ~/.condarc.bak`

    `> conda install -c pni -c defaults -c conda-forge brainiak_tutorials`

  - In any folder that you would like to store the tutorials run:

      `git clone https://github.com/brainiak/tutorials.git`

  - Download data for your tutorial
  - Unzip the data file and move it into this folder `~/Downloads/brainiak_datasets`

  <b>Running Tutorials</b>
  - Check file `setup_environment.sh` for `CONDA_ENV=mybrainiak`
  - In Terminal, `cd tutorials` # assuming in same dir as (6) above
  - In Terminal execute:  `run_jupyter.sh`
  - In the browser, you will see a Jupyter window with a list of files
  - Open (double click) `utils.py`
  - A new tab opens up with this file.
  - Update variable `data_path`  to `~/Downloads/brainiak_datasets/`
  - Change

    `data_path = os.path.expanduser('~') + '/brainiak_datasets/'` to

    `data_path = os.path.expanduser('~') + '/Downloads/brainiak_datasets/'`
  - If you move the dataset to any other path, you will need to modify the data_path to reflect the new location of the dataset.
  - Go back to the ‚ÄúHome‚Äù tab with the list of files
  - Open assigned tutorial.
  - Execute it.

  </div>
  <div class="tab-pane fade" id="pills-server-scotty" role="tabpanel" aria-labelledby="pills-server-scotty-tab" markdown="1">

  <h4>Conda on server (scotty)</h4>
  - Connect to scotty using Terminal
  - Install [Miniconda with Python 3](https://docs.conda.io/en/latest/miniconda.html), or, run the following command to load pre-installed anaconda:

    `module load anacondapy/5.3.1`
  - Create a Conda environment

    `conda create -n mybrainiak`
    `source activate mybrainiak`

  - Ensure that your .condarc is not interfering:

    `mv ~/.condarc ~/.condarc.bak`

  - Install brainiak-tutorial conda package

    `conda install -c pni -c defaults -c conda-forge brainiak_tutorials`

  - Download data for the tutorials
  - Change data directory path
  - Move data to `~/brainiak_datasets/`

  - In the terminal clone the tutorial repo:

    `git clone https://github.com/brainiak/tutorials.git`

  <b>Running Tutorials</b>
  - Check file `setup_environment.sh` for  `CONDA_ENV=mybrainiak`
  - Change `configuration='cluster'` to `configuration='server‚Äô`
  - Launch Jupyter on scotty (steps and screen shots [here](https://github.com/brainiak/tutorials/wiki/Launching-notebooks-from-a-cluster) for Jupyter on server)

    `cd ~/tutorials/tutorials`

    `./run_jupyter_remote_server.sh`
  </div>
  <div class="tab-pane fade" id="pills-cluster-spock" role="tabpanel" aria-labelledby="pills-cluster-spock-tab" markdown="1">

  <h4>Conda on cluster (spock)</h4>

  - Install [Miniconda with Python 3](https://docs.conda.io/en/latest/miniconda.html)
  - Install brainiak-tutorial conda package
  - Download data
  - Move data to ~/brainiak_datasets/
  - Check directory path in `utils.py`
  - Check file `setup_environment.sh` for  `CONDA_ENV=mybrainiak`
  - Set `configuration='cluster'`


  </div>
  <div class="tab-pane fade" id="pills-google-colab" role="tabpanel" aria-labelledby="pills-google-colab-tab" markdown="1">

  <h4>Google Colaboratory</h4>
  - In Google Chrome go to: colab.research.google.com
  - In the window Click on the Github tab (May need to select File->Open_Notebook for window to appear)

    ![alt](/tutorials/img/colab-01.jpeg){:width="800px"}

  - Enter brainiak/tutorials
  - Choose branch master (should be already selected by default)
  - Click on notebook tutorials/colab-env-setup.ipynb

    ![alt](/tutorials/img/colab-02.jpeg){:width="800px"}

  - Run cell ‚ÄúInstall Brainiak and code dependencies‚Äù
  - A window will pop-up. Uncheck ‚ÄúReset all runtimes before running‚Äù

    ![alt](/tutorials/img/colab-03.jpeg){:width="800px"}

  - After the installation is complete run cell ‚ÄúGit-clone helper files for tutorials‚Äù
  - There are many download data cells. Pick only  the data cell for your tutorial and run that cell. This may take a few minutes depending on the size of the data.
  - You are now ready to execute your notebook.
  - Open a new tab in Chrome
  - Click on File->Open Notebook
  - In the window Click on the Github tab
  - Enter brainiak/tutorials
  - Pick the notebook that you need to run
  - Execute cell
  - A window will pop-up. Uncheck ‚ÄúReset all runtimes before running‚Äù
  - Continue running notebook

  </div>
  <div class="tab-pane fade" id="pills-data-download" role="tabpanel" aria-labelledby="pills-data-download-tab" markdown="1">

  <h4>Data Downloads</h4>
  These datasets are pre-processed and ready to use. They have been condensed, to keep the file size small, by reducing the number of subjects from the original studies,. Each tutorial is paired with a dataset as listed below. The file brainiak_datasets.zip contains the data for all the tutorials, and in unzipped form uses 18GB of space. If you wish to download data for specific tutorials, use the list below to find the correct dataset to download and use. <b>For Colab use, we strongly recommend, downloading data only for the tutorials you need.</b>

  - Tutorial 1: No data download needed
  - Tutorial 2:  [vdc](https://drive.google.com/open?id=1PrnucQ4hXqUY8gl6ysGJJiTreYu7KOLz)  (Kim et al., 2017) and [02-data-handling-simulated-dataset](https://drive.google.com/open?id=1tiEjtp96zwIdnl3p726llj5KMETnNJ4A) (this is a simulated dataset)
  - Tutorials 3-5: [vdc](https://drive.google.com/open?id=1PrnucQ4hXqUY8gl6ysGJJiTreYu7KOLz)  (Kim et al., 2017)
  - Tutorial 6: [NinetySix](https://drive.google.com/open?id=14m-YY-N3mCjCdHGkeVlTS4uA7WJzbQS0) (Kriegeskorte et al., 2008)
  - Tutorials 7,9: [face_scene](https://drive.google.com/open?id=1LBhKWx5NSlndUlBev3jP997wNiM6HA9N) (Turk-Browne et al., 2012). For running the extra batch script, that computes searchlights within subject, download the [vdc](https://drive.google.com/open?id=1PrnucQ4hXqUY8gl6ysGJJiTreYu7KOLz) dataset.
  - Tutorial 8: [latatt](https://drive.google.com/open?id=1iX5nLZvQsWuM5AmKeiBNoP8QkZjlOY7T) (Hutchinson et al., 2016)
  - Tutorial 10: [Pieman2](https://drive.google.com/open?id=1IBA39ZZjeGS1u_DvZdiw1AZZQMS3K5q0) (Simony et al., 2016)
  - Tutorial 11: [raider](https://drive.google.com/file/d/1zCQoulK_rlzzRb4n6YMVp2cI8vZpxnwx/view?usp=drive_open) (Haxby et al., 2011) and [Pieman2](https://drive.google.com/open?id=1IBA39ZZjeGS1u_DvZdiw1AZZQMS3K5q0) (Simony et al., 2016)
  - Tutorial 12: [Sherlock_processed](https://drive.google.com/open?id=11y9iQUoNVyVLANllKebFUrqdvQt-vsXm) (Chen et al., 2017)
  - Tutorial 13: No data download needed

  The doi reference for these tutorial datasets is: http://zenodo.org/xyz
  </div>
</div>


</div>
</div>

<div class="block-narrow block-secondary app-about-block" id="preview" markdown="1">
<div class="container" markdown="1">
## Resources
We have compiled a list of useful resources that cover the basics of GitHUB, Python, fMRI, and Machine Learning.
</div>
</div>
